import streamlit as st
import os
import pandas as pd
import time

# --- IMPORTS ---
from langchain_core.prompts import ChatPromptTemplate

# TOGETHER AI IMPORTS
try:
    from langchain_together import ChatTogether
except ImportError:
    st.error("âŒ 'langchain-together' library not found. Please run: pip install -r requirements.txt")
    st.stop()

# --- 1. CONFIGURATION ---
st.set_page_config(page_title="AI Labor Law (Model Answer)", page_icon="âš–ï¸", layout="wide")

# FILES
CSV_FILE = "04. ë²•ë¥ íŒ€ ë¼ë²¨ë§ ë§¤ë‰´ì–¼.xlsx - Sheet1.csv"

# CREDENTIALS (PRE-FILLED)
DEFAULT_API_KEY = "e56ad0c3f4a4cb169e4d916d5a474488eb17fe444c0910b3512d8f9beffae275"
DEFAULT_MODEL = "lingaltech810/Meta-Llama-3-8B-Instruct-c60adc18-8b8a5858"

# STATE
if "step" not in st.session_state: st.session_state.step = "A"
if "user_profile" not in st.session_state: st.session_state.user_profile = {}
if "contract_text" not in st.session_state: st.session_state.contract_text = ""
if "selected_example" not in st.session_state: st.session_state.selected_example = None

# --- 2. MODEL ANSWERS (EXACT FROM PDF) ---
MODEL_ANSWERS = {
    "ë°•ìˆ˜ì•„_1ë²ˆ": {
        "profile_display": "ë‚´êµ­ì¸, ì—¬ì„±, ì„ì‹  ì¤‘, ë§Œ 30ì„¸, ë¹„ì¥ì• ì¸, ì¼ë°˜ê·¼ë¡œì‹œê°„ ìœ í˜•",
        "summary": """ê·€í•˜ì˜ ê·¼ë¡œê³„ì•½ì„œì—ì„œ ì„ì‹  ì¤‘ ì—¬ì„± ê·¼ë¡œìì˜ ê·¼ë¡œì¡°ê±´ ë³´í˜¸ì™€ ê´€ë ¨í•˜ì—¬ ì¼ë¶€ ì¡°í•­ì—ì„œ ë²•ì  ì£¼ì˜ í•„ìš” í•­ëª©ì´ ì‹ë³„ë˜ì—ˆìŠµë‹ˆë‹¤.

ì „ì²´ì ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ 11ê°œ ì¡°í•­ ì¤‘ ì €ìœ„í—˜ 7ê°œ, ì¤‘ìœ„í—˜ 1ê°œ, ê³ ìœ„í—˜ 3ê°œì…ë‹ˆë‹¤.

íŠ¹íˆ ê·¼ë¡œì‹œê°„, ì„ê¸ˆ, ìœ í•´Â·ìœ„í—˜ ì—…ë¬´ ì œí•œ ê´€ë ¨ í•­ëª©ì€ ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ65ì¡°~ì œ74ì¡° ë° ã€Œë‚¨ë…€ê³ ìš©í‰ë“±ê³¼ ì¼Â·ê°€ì • ì–‘ë¦½ ì§€ì›ì— ê´€í•œ ë²•ë¥ ã€ì œ19ì¡°ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.""",
        "details": """1. ê·¼ë¡œê°œì‹œì¼ (ì €ìœ„í—˜)
ì…ë ¥: 2025ë…„ 1ì›” 18ì¼
ì‚¬ìœ : ê·¼ë¡œ ì‹œì‘ì¼ì´ ëª…í™•íˆ ê¸°ì¬ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°(ê·¼ë¡œì¡°ê±´ì˜ ëª…ì‹œ)

2. ê·¼ë¬´ì¥ì†Œ (ì €ìœ„í—˜)
ì…ë ¥: ê°‘ ì†Œìœ ì˜ A ì„ ë°•
ì‚¬ìœ : ê·¼ë¬´ ì¥ì†Œê°€ ëª…í™•íˆ ê¸°ì¬ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°

3. ì—…ë¬´ì˜ ë‚´ìš© (ê³ ìœ„í—˜)
ì…ë ¥: í•­ë§Œí•˜ì—­ì—…
ì‚¬ìœ : ì„ì‹  ì¤‘ ì—¬ì„±ì€ ì‹ ì²´ë¥¼ ì‹¬í•˜ê²Œ êµ½íˆê±°ë‚˜ í´ì•¼ í•˜ëŠ” ì—…ë¬´ì— ì¢…ì‚¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.ì œ1í˜¸ë¶€í„° ì œ12í˜¸
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ65ì¡°(ì‚¬ìš© ê¸ˆì§€)
ê°œì„ : ì„ ìƒ ì‘ì—… ë° í•˜ì—­ ì—…ë¬´ ëŒ€ì‹  ë¹„ìœ¡ì²´ì  ì—…ë¬´ë¡œ ì „í™˜í•˜ì‹­ì‹œì˜¤.

4. ì†Œì •ê·¼ë¡œì‹œê°„ (ì €ìœ„í—˜)
ì…ë ¥: 10:00~13:30 (íœ´ê²Œ 30ë¶„ í¬í•¨, ì£¼ 12ì‹œê°„)
ì‚¬ìœ : ê·¼ë¡œì‹œê°„ì´ ë‹¨ì‹œê°„ìœ¼ë¡œ, ì„ì‹  ì¤‘ ê·¼ë¡œì ë³´í˜¸ ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ50ì¡°, ì œ71ì¡°

5. ê·¼ë¬´ì¼Â·íœ´ì¼ (ê³ ìœ„í—˜)
ì…ë ¥: ë¯¸ê¸°ì¬
ì‚¬ìœ : ê·¼ë¬´ì¼ ë° ì£¼íœ´ì¼ì€ í•„ìˆ˜ì ìœ¼ë¡œ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤. ëˆ„ë½ ì‹œ ìœ ê¸‰íœ´ì¼ ì‚°ì •ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ55ì¡°(íœ´ì¼)
ê°œì„ : ì£¼ 5ì¼ ê·¼ë¬´, ì£¼íœ´ì¼(ì˜ˆ: ì¼ìš”ì¼) ë“±ì„ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.

6. ì„ê¸ˆ (ê³ ìœ„í—˜)
ì…ë ¥: ì‹œê¸‰ 11,000ì›, ë§¤ì›” 20ì¼ ì§€ê¸‰, ê³„ì¢Œì´ì²´
ì‚¬ìœ : ìµœì €ì„ê¸ˆ ì´ìƒì´ì§€ë§Œ, ì¶œì‚°íœ´ê°€ ê¸°ê°„ ì¤‘ ê¸‰ì—¬ ì§€ê¸‰ ê·œì •ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ74ì¡°(ì„ì‚°ë¶€ ë³´í˜¸), ê³ ìš©ë³´í—˜ë²• ì œ70ì¡°(ì¶œì‚°ì „í›„íœ´ê°€ê¸‰ì—¬)
ê°œì„ : ì¶œì‚°íœ´ê°€(90ì¼, ë‹¤íƒœì•„ 120ì¼) ë° ê¸‰ì—¬ ì§€ê¸‰ ì£¼ì²´ë¥¼ ëª…ì‹œí•˜ì‹­ì‹œì˜¤.

7. ì—°ì°¨ìœ ê¸‰íœ´ê°€ (ì €ìœ„í—˜)
ì…ë ¥: ê·¼ë¡œê¸°ì¤€ë²•ì— ë”°ë¼ ë¶€ì—¬
ì‚¬ìœ : ë²•ì • ì—°ì°¨ ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ60ì¡°

8. ì‚¬íšŒë³´í—˜ ì ìš©ì—¬ë¶€ (ì¤‘ìœ„í—˜)
ì…ë ¥: ì‚°ì¬ë³´í—˜, ê±´ê°•ë³´í—˜ ì ìš©
ì‚¬ìœ : ì›” 60ì‹œê°„ ë¯¸ë§Œ ê·¼ë¡œìëŠ” êµ­ë¯¼ì—°ê¸ˆÂ·ê³ ìš©ë³´í—˜ ì ìš© ëŒ€ìƒì—ì„œ ì œì™¸ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê·¼ê±°: êµ­ë¯¼ì—°ê¸ˆë²• ì œ6ì¡°, ê³ ìš©ë³´í—˜ë²• ì œ10ì¡°
ê°œì„ : ê° ê³µë‹¨ì„ í†µí•´ ì‹¤ì œ ì ìš© ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤.

9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€ (ì €ìœ„í—˜)
ì…ë ¥: ê³„ì•½ ì²´ê²° ì‹œ êµë¶€
ì‚¬ìœ : êµë¶€ ì˜ë¬´ ëª…ì‹œë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°

10.ê·¼ë¡œê³„ì•½Â·ì·¨ì—…ê·œì¹™ ì„±ì‹¤ ì´í–‰ (ì €ìœ„í—˜)
ì…ë ¥: ì„±ì‹¤ ì´í–‰ ì˜ë¬´ ëª…ì‹œ
ì‚¬ìœ : ê·¼ë¡œìÂ·ì‚¬ìš©ì ê°„ ìƒí˜¸ ì„±ì‹¤ ì´í–‰ì´ ê·œì •ë˜ì–´ ìˆì–´ ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ5ì¡°

11.ê·¸ ë°–ì˜ ì‚¬í•­ (ì €ìœ„í—˜)
ì…ë ¥: ê·¼ë¡œê´€ê³„ë²•ë ¹ì— ë”°ë¦„
ì‚¬ìœ : ë²•ë ¹ ì¤€ìˆ˜ ë¬¸êµ¬ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ15ì¡°""",
        "legal_guide": """1. ì„ê¸ˆ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œìµœì €ì„ê¸ˆë²•ã€ ì œ6ì¡°, ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ43ì¡°, ã€Œê³ ìš©ë³´í—˜ë²•ã€ ì œ70ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ê·¼ë¡œìì—ê²Œ ê³ ìš©ë…¸ë™ë¶€ ì¥ê´€ì´ ê³ ì‹œí•˜ëŠ” ìµœì €ì„ê¸ˆ ì´ìƒì„ ì§€ê¸‰í•´ì•¼ í•˜ë©°(ìµœì €ì„ê¸ˆë²• ì œ6ì¡°), ì„ê¸ˆì€ í†µí™”ë¡œ, ì§ì ‘, ì „ì•¡ì„, ë§¤ì›” 1íšŒ ì´ìƒ ì¼ì •í•œ ë‚ ì§œì— ì§€ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤(ê·¼ë¡œê¸°ì¤€ë²• ì œ43ì¡°). ê·¼ë¡œê¸°ì¤€ë²• ì œ74ì¡°ì— ë”°ë¼ ì¶œì‚°ì „í›„íœ´ê°€ì˜ ìµœì´ˆ 60ì¼ì€ ìœ ê¸‰ìœ¼ë¡œ ë³´ì¥ ë°›ìŠµë‹ˆë‹¤. ë˜í•œ, ìœ¡ì•„íœ´ì§ ì´í›„ 1ê°œì›”~12ê°œì›” ì´ë‚´ì˜ ì—¬ì„±ì€ ê³ ìš©ë³´í—˜ë²• ì œ70ì¡°ì— ë”°ë¼ ìœ¡ì•„íœ´ì§ê¸‰ì—¬ë¥¼ ì‹ ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. ê·¼ë¡œì‹œê°„ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ50ì¡°, ì œ71ì¡°
ìš”ì§€: 1ì¼ ê·¼ë¡œì‹œê°„ì€ 8ì‹œê°„, 1ì£¼ ê·¼ë¡œì‹œê°„ì€ 40ì‹œê°„ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤(ì œ50ì¡°). ì„ì‹  ì¤‘ ì—¬ì„± ê·¼ë¡œìëŠ” ì‹œê°„ì™¸ê·¼ë¡œ(ì—°ì¥ê·¼ë¡œ)ë¥¼ ì‹œí‚¬ ìˆ˜ ì—†ìœ¼ë©°, ì•¼ê°„Â·íœ´ì¼ê·¼ë¡œë„ ì›ì¹™ì ìœ¼ë¡œ ê¸ˆì§€ë©ë‹ˆë‹¤(ì œ71ì¡°).

3. ìœ í•´Â·ìœ„í—˜ ì—…ë¬´ ê´€ë ¨ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ65ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ì„ì‹  ì¤‘ ë˜ëŠ” ì¶œì‚° í›„ 1ë…„ì´ ì§€ë‚˜ì§€ ì•Šì€ ì—¬ì„±ì„ ë„ë•ìƒ ë˜ëŠ” ë³´ê±´ìƒ ìœ í•´Â·ìœ„í—˜í•œ ì‚¬ì—…ì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•­ë§Œí•˜ì—­ì—…, ì„ ìƒ ì¤‘ëŸ‰ë¬¼ ì‘ì—… ë“±ì€ ëŒ€í‘œì ì¸ ê¸ˆì§€ ì§ì¢…ìœ¼ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.

4. ì—°ì°¨ìœ ê¸‰íœ´ê°€ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ60ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” 1ë…„ê°„ 80% ì´ìƒ ì¶œê·¼í•œ ê·¼ë¡œìì—ê²Œ 15ì¼ ì´ìƒì˜ ìœ ê¸‰íœ´ê°€ë¥¼ ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤. 1ë…„ ë¯¸ë§Œ ê·¼ë¡œìëŠ” 1ê°œì›” ê°œê·¼ ì‹œ 1ì¼ì˜ ìœ ê¸‰íœ´ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

5. ì‚¬íšŒë³´í—˜ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œêµ­ë¯¼ì—°ê¸ˆë²•ã€ ì œ6ì¡°, ã€Œê³ ìš©ë³´í—˜ë²•ã€ ì œ8ì¡° ë° ì œ10ì¡°, ã€Œì‚°ì¬ë³´í—˜ë²•ã€ ì œ5ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ê·¼ë¡œìë¥¼ êµ­ë¯¼ì—°ê¸ˆ, ê³ ìš©ë³´í—˜, ì‚°ì¬ë³´í—˜ì— ê°€ì…ì‹œì¼œì•¼ í•©ë‹ˆë‹¤. ë‹¤ë§Œ, ì›” ì†Œì •ê·¼ë¡œì‹œê°„ì´ 60ì‹œê°„ ë¯¸ë§Œì¸ ê²½ìš° êµ­ë¯¼ì—°ê¸ˆ ë° ê³ ìš©ë³´í—˜ì€ ì ìš© ì œì™¸ ëŒ€ìƒì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

6. ì¶œì‚°íœ´ê°€ ë° ë³´í˜¸ ê´€ë ¨ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ74ì¡°, ã€Œë‚¨ë…€ê³ ìš©í‰ë“±ê³¼ ì¼Â·ê°€ì • ì–‘ë¦½ ì§€ì›ì— ê´€í•œ ë²•ë¥ ã€ ì œ19ì¡°
ìš”ì§€: ì„ì‹  ì¤‘ì¸ ì—¬ì„±ì€ ì¶œì‚° ì „í›„ ì´ 90ì¼(ë¯¸ìˆ™ì•„ 100ì¼, ë‹¤íƒœì•„ 120ì¼)ì˜ íœ´ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤(ê·¼ë¡œê¸°ì¤€ë²• ì œ74ì¡°). ì¶œì‚°íœ´ê°€ê¸°ê°„ ì¤‘ ê¸‰ì—¬ëŠ” ê³ ìš©ë³´í—˜ì—ì„œ ì§€ê¸‰ë˜ë©°, ì‚¬ì—…ì£¼ëŠ” ì´ë¥¼ ì´ìœ ë¡œ ë¶ˆì´ìµì„ ì£¼ì–´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤(ë‚¨ë…€ê³ ìš©í‰ë“±ë²• ì œ19ì¡°)."""
    },
    "ê¶Œë²”ì„_D1": {
        "profile_display": "ë‚´êµ­ì¸, ë‚¨ì„±, ë§Œ 35ì„¸, ì¥ì•  ì—†ìŒ, í¬ê´„ì„ê¸ˆì œ ê·¼ë¡œì",
        "summary": """ê·€í•˜ì˜ ê·¼ë¡œê³„ì•½ì„œ ì¤‘ ê·¼ë¡œì¡°ê±´ì˜ ëª…ì‹œ í•­ëª©ê³¼ í¬ê´„ì„ê¸ˆì œ ê³„ì•½ê³¼ ê´€ë ¨í•˜ì—¬ ì¼ë¶€ ì¡°í•­ì—ì„œ ë²•ì  ì£¼ì˜ í•„ìš” í•­ëª©ì´ ì‹ë³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì „ì²´ì ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ 11ê°œ ì¡°í•­ ì¤‘ ì €ìœ„í—˜ 6ê°œ, ì¤‘ìœ„í—˜ 2ê°œ, ê³ ìœ„í—˜ 3ê°œì…ë‹ˆë‹¤.

ê·¼ë¡œì¡°ê±´ì˜ ëª…ì‹œ í•­ëª©ê³¼ ê´€ë ¨í•˜ì—¬ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ17ì¡°1í•­ì„ í™•ì¸í•˜ì‹œê³  ì„ê¸ˆ í•­ëª©ê³¼ ê´€ë ¨í•˜ì—¬ì„œëŠ”ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ56ì¡°ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.""",
        "details": """1. ê·¼ë¡œê°œì‹œì¼ (ì¤‘ìœ„í—˜)
ì…ë ¥: 2025ë…„ 1ì›” 1ì¼ë¶€í„° 
*ìˆ˜ìŠµê¸°ê°„ì€ ê·¼ë¡œê°œì‹œì¼ë¡œë¶€í„° 3ê°œì›”, ìˆ˜ìŠµê¸°ê°„ì„ ë¬´ë‚œíˆ í†µê³¼í•œ ì´í›„ì—ëŠ” ê³„ì•½ê¸°ê°„ì„ 1ë…„ ë‹¨ìœ„(ìˆ˜ìŠµê¸°ê°„ í¬í•¨)ë¡œ í•˜ë©°, ìƒí˜¸ ì´ì˜ê°€ ì—†ì„ ì‹œì—ëŠ” 1ë…„ ë‹¨ìœ„ë¡œ ìë™ì—°ì¥í•˜ê¸°ë¡œ í•œë‹¤.
ì‚¬ìœ : ë³¸ ê³„ì•½ì€ '2025ë…„ 1ì›” 1ì¼ë¶€í„°'ë¡œ ê¸°ì¬ë˜ì–´ ìˆì–´ ê¸°ê°„ì˜ ì •í•¨ì´ ì—†ëŠ” ì •ê·œì§ ê·¼ë¡œê³„ì•½ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆìœ¼ë‚˜, ë²•ì  ë¶„ìŸì‹œ '1ë…„ ë‹¨ìœ„ë¡œ ìë™ì—°ì¥í•˜ê¸°ë¡œ í•œë‹¤'ë¼ëŠ” ë¬¸êµ¬ë¡œ ì¸í•´ 'ê¸°ê°„ì˜ ì •í•¨ì´ ìˆëŠ” ê³„ì•½'ìœ¼ë¡œ íŒë‹¨í•  ì†Œì§€ê°€ ìˆìŠµë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°
ê°œì„ : ë³¸ ê³„ì•½ì€ ê¸°ê°„ì˜ ì •í•¨ì´ ìˆëŠ” ê³„ì•½ìœ¼ë¡œ ë³¼ ì†Œì§€ê°€ ìˆìŒì„ ì¸ì§€í•˜ê³  ì •ê·œì§, ë¹„ì •ê·œì§ ì—¬ë¶€ì— ëŒ€í•˜ì—¬ ëª…í™•íˆ ê·œì •í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©ìì™€ ìƒì˜í•´ì•¼ í•©ë‹ˆë‹¤.

2. ê·¼ë¬´ì¥ì†Œ (ì¤‘ìœ„í—˜)
ì…ë ¥: ë³¸ì‚¬ì—ì„œ ì§€ì •í•œ ì¥ì†Œ. ë‹¨, ë‹´ë‹¹ì—…ë¬´ ë° ê·¼ë¬´ ì¥ì†ŒëŠ” íšŒì‚¬ ì‚¬ì •ì— ë”°ë¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
ì‚¬ìœ : ê·¼ë¬´ ì¥ì†Œê°€ ëª…í™•íˆ ê¸°ì¬ë˜ì–´ ìˆì§€ ì•Šì•„ ê·¼ë¬´ì§€ê°€ ì„ì˜ë¡œ ë³€ê²½ë  ìˆ˜ ìˆê¸°ì— ê·¼ë¡œìì—ê²Œ ë¶ˆë¦¬í•œ ì¡°í•­ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°
ê°œì„ : ê·¼ë¬´ì§€ê°€ ëª…í™•í•˜ê²Œ íŠ¹ì •ë  ìˆ˜ ìˆë„ë¡ ê¸°ì¬í•˜ì‹­ì‹œì˜¤.

3. ì—…ë¬´ì˜ ë‚´ìš© (ì¤‘ìœ„í—˜)
ì…ë ¥: ë¶€ì‚¬ì¥
ì‚¬ìœ : ê·¼ë¡œê³„ì•½ì„œ ìƒ ì—…ë¬´ì˜ ë‚´ìš© ë° ì§ì±…ì— ë¶€ì‚¬ì¥ ë“±ê³¼ ê°™ì´ ì„ì›ì§ì˜ ëª…ì¹­ìœ¼ë¡œ ê¸°ì¬ë˜ì–´ ìˆë”ë¼ë„ ê·¼ë¬´í˜•íƒœë‚˜ ë²•ì ê´€ê³„ê°€ ê·¼ë¡œìì— í•´ë‹¹í•œë‹¤ë©´ ê·¼ë¡œê¸°ì¤€ë²•ì— ë”°ë¼ ê·¼ë¡œìë¡œì„œ ë³´í˜¸ë¥¼ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°
ê°œì„ : ê·¼ë¬´í˜•íƒœë‚˜ ë²•ì ê´€ê³„ì— ë”°ë¼ ì„ì›ì§ì´ ì•„ë‹Œ, ì‚¬ìš©ìì™€ ì¢…ì†ê´€ê³„ì— ë”°ë¥¸ ê·¼ë¡œìì— í•´ë‹¹í•  ìˆ˜ ìˆìŒì„ í™•ì¸í•˜ê³  ì´ë¥¼ ëª…í™•íˆ ê·œì •í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©ìì™€ ìƒì˜í•´ì•¼ í•©ë‹ˆë‹¤.

4. ì†Œì •ê·¼ë¡œì‹œê°„ (ì €ìœ„í—˜)
ì…ë ¥: ì†Œì •ê·¼ë¡œì‹œê°„ : 09ì‹œ 00ë¶„ ~ 18ì‹œ 00ë¶„ (íœ´ê²Œ: 12ì‹œ 00ë¶„ ~ 13ì‹œ 00ë¶„) (1ì¼ 8ì‹œê°„, 1ì£¼ 40ì‹œê°„)
ì‚¬ìœ : ê·¼ë¡œì‹œê°„ì´ ë²•ì •ê·¼ë¡œì‹œê°„ì„ ì´ˆê³¼í•˜ì§€ ì•Šê³  íœ´ê²Œì‹œê°„ ë˜í•œ ì ì ˆíˆ ê¸°ì¬ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°, ê·¼ë¡œê¸°ì¤€ë²• ì œ50ì¡°

5. ê·¼ë¬´ì¼Â·íœ´ì¼ (ì €ìœ„í—˜)
ì…ë ¥: ë§¤ì£¼ 5ì¼ ê·¼ë¬´, ì£¼íœ´ì¼ ë§¤ì£¼ ì¼ìš”ì¼, ê³µíœ´ì¼(ëŒ€ì²´ê³µíœ´ì¼ í¬í•¨)ì€ ê·¼ë¡œê¸°ì¤€ë²•ì´ ì •í•˜ëŠ” ë°”ì— ë”°ë¥´ë©°, ê·¼ë¡œìì˜ ë‚ ì€ ìœ ê¸‰íœ´ì¼ë¡œ í•¨
ì‚¬ìœ : ê·¼ë¬´ì¼ê³¼ íœ´ì¼ì´ ì ì ˆí•˜ê²Œ ê¸°ì¬ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• 17ì¡°, ê·¼ë¡œê¸°ì¤€ë²• 55ì¡°

6. ì„ê¸ˆ (ê³ ìœ„í—˜)
ì…ë ¥: ì—°ë´‰ 50,000,000ì›, ìˆ˜ìŠµê¸°ê°„ ì¤‘ ê³„ì•½ ì—°ë´‰ì˜ 100%ë¥¼ ì§€ê¸‰í•œë‹¤. ìƒì—¬ê¸ˆ ì—†ìŒ. ê·¸ ë°–ì˜ ìˆ˜ë‹¹ ì—†ìŒ. ë§¤ì›” 5ì¼ ì„ê¸ˆ ì§€ê¸‰, ê³„ì¢Œ ì…ê¸ˆ
ì‚¬ìœ : ë³¸ ê³„ì•½ì„œëŠ” í¬ê´„ì„ê¸ˆì œë¥¼ ê¸°ë°˜í•˜ì—¬ ì‘ì„±ë˜ì—ˆê¸°ì— ì—°ì¥ê·¼ë¡œ, ì•¼ê°„ê·¼ë¡œ, íœ´ì¼ê·¼ë¡œì— ë”°ë¥¸ ë²•ì  ìˆ˜ë‹¹ì´ ì„ê¸ˆ ì•ˆì— ê°€ì‚°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. 
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ56ì¡°
ê°œì„ : ê·¼ë¡œì¼ìˆ˜ ë° ì‹œê°„ì™¸ê·¼ë¡œì— ë”°ë¼ ì§€ë¶ˆë  ì„ê¸ˆì´ ê°ì¢… ë²•ì  ìˆ˜ë‹¹ì„ ì •í™•íˆ ë°˜ì˜í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ì‹­ì‹œì˜¤.

7. ì—°ì°¨ìœ ê¸‰íœ´ê°€ (ì €ìœ„í—˜)
ì…ë ¥: ì—°ì°¨ìœ ê¸‰íœ´ê°€ëŠ” ê·¼ë¡œê¸°ì¤€ë²•ì—ì„œ ì •í•˜ëŠ” ë°”ì— ë”°ë¼ ë¶€ì—¬í•¨.
ì‚¬ìœ : ë²•ë ¹ ì¤€ìˆ˜ ë¬¸êµ¬ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ15ì¡°, ê·¼ë¡œê¸°ì¤€ë²• ì œ60ì¡°

8. ì‚¬íšŒë³´í—˜ ì ìš©ì—¬ë¶€ (ì €ìœ„í—˜)
ì…ë ¥: 4ëŒ€ ì‚¬íšŒë³´í—˜(ê³ ìš©ë³´í—˜, ì‚°ì¬ë³´í—˜, êµ­ë¯¼ì—°ê¸ˆ, ê±´ê°•ë³´í—˜) ì ìš©(ê°€ì…)ì„ ì›ì¹™ìœ¼ë¡œ í•¨
ì‚¬ìœ : ì‚¬íšŒë³´í—˜ ì ìš© ì›ì¹™ì„ ê·œì •í•˜ê³  ìˆì–´ ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: êµ­ë¯¼ì—°ê¸ˆë²• ì œ8ì¡°

9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€ (ì €ìœ„í—˜)
ì…ë ¥: ê³„ì•½ ì²´ê²° ì‹œ êµë¶€
ì‚¬ìœ : êµë¶€ ì˜ë¬´ ëª…ì‹œë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°

10. ê·¼ë¡œê³„ì•½Â·ì·¨ì—…ê·œì¹™ ì„±ì‹¤ ì´í–‰ (ê³ ìœ„í—˜)
ì…ë ¥: ì„±ì‹¤ ì´í–‰ ì˜ë¬´ ëª…ì‹œ, ìë¦¬ë¥¼ ë¹„ìš¸ ë•Œì—ëŠ” ë°˜ë“œì‹œ ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê³  ì»¨íŒ í•˜ì— ì›€ì§ì´ë„ë¡ í•œë‹¤.
ì‚¬ìœ : ìë¦¬ë¥¼ ë¹„ìš¸ ë•Œ'ë¼ëŠ”  ë¬¸êµ¬ë¡œ ì¸í•´ ëª¨ë“  ì´ì„ì„ ìƒì‚¬ì˜ í—ˆê°€ ëŒ€ìƒìœ¼ë¡œ ì‚¼ì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ë¡œ í•´ì„ë  ì—¬ì§€ê°€ ìˆìœ¼ë©° ì´ëŠ” ê·¼ë¡œìì˜ ììœ¨ì„±ì„ ì§€ë‚˜ì¹˜ê²Œ ì œì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ7ì¡°, ê·¼ë¡œê¸°ì¤€ë²• ì œ76ì¡°
ê°œì„ : í•´ë‹¹ ì¡°í•­ì„ ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ í•˜ì‹­ì‹œì˜¤.

11. ê·¸ ë°–ì˜ ì‚¬í•­ (ì €ìœ„í—˜)
ì…ë ¥: ê·¼ë¡œê´€ê³„ë²•ë ¹ì— ë”°ë¦„
ì‚¬ìœ : ë²•ë ¹ ì¤€ìˆ˜ ë¬¸êµ¬ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•˜ë©° ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ15ì¡°""",
        "legal_guide": """1. ì„ê¸ˆ í•­ëª©
ì°¸ì¡° ë²•ë ¹:ã€Œìµœì €ì„ê¸ˆë²•, ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ43ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ìµœì €ì„ê¸ˆë²•ì— ë”°ë¼ ê³ ìš©ë…¸ë™ë¶€ì¥ê´€ì´ ì •í•œ ìµœì €ì„ê¸ˆì•¡ ì´ìƒì˜ ê¸ˆì•¡ì„ ì„ê¸ˆìœ¼ë¡œ ì§€ê¸‰í•´ì•¼ í•˜ë©°, ê·¼ë¡œê¸°ì¤€ë²• ì œ43ì¡°ì— ë”°ë¼ ë§¤ì›” 1íšŒ ì´ìƒ ì¼ì •í•œ ë‚ ì§œë¥¼ ì •í•˜ì—¬ ê·¼ë¡œìì—ê²Œ í†µí™”ë¡œ ì§ì ‘ ì§€ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤.

2. ê·¼ë¡œ ì¡°ê±´ ëª…ì‹œ í•­ëª©
ì°¸ì¡° ë²•ë ¹:ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ17ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°ì—ì„œ ê·œì •í•˜ëŠ” ê·¼ë¡œì¡°ê±´ì„ ê³„ì•½ì„œì— ì •í™•í•˜ê²Œ ëª…ì‹œí•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. í•´ë‹¹ ì‚¬í•­ìœ¼ë¡œëŠ” ì„ê¸ˆ, ì†Œì •ê·¼ë¡œì‹œê°„, íœ´ì¼, ì·¨ì—…ì˜ ì¥ì†Œì™€ ì¢…ì‚¬í•˜ì—¬ì•¼ í•  ì—…ë¬´ì— ê´€í•œ ì‚¬í•­ ë“±ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ìœ„ ì‚¬í•­ë“¤ì´ ê¸°ì¬ë˜ì–´ ìˆì§€ ì•Šê±°ë‚˜ ì¤‘ì˜ì ìœ¼ë¡œ í•´ì„ë  ë¬¸êµ¬ë¡œ ê¸°ì¬ë˜ì–´ ìˆëŠ” ê²½ìš° ì£¼ì˜í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

3. ê·¼ë¡œì‹œê°„ í•­ëª©
ì°¸ì¡° ë²•ë ¹:ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ50ì¡°, ì œ53ì¡°
ìš”ì§€: 1ì£¼ ê°„ì˜ ê·¼ë¡œì‹œê°„ì€ íœ´ê²Œì‹œê°„ì„ ì œì™¸í•˜ê³  40ì‹œê°„ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìœ¼ë©° 1ì¼ì˜ ê·¼ë¡œì‹œê°„ì€ íœ´ê²Œì‹œê°„ 1ì‹œê°„ì„ ì œì™¸í•˜ê³  8ì‹œê°„ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¼ë¡œê¸°ì¤€ë²• ì œ50ì¡° ì œ1í•­ ë° ì œ2í•­ì— ë”°ë¼ ê·¼ë¡œì‹œê°„ì„ ì‚°ì •í•˜ëŠ” ê²½ìš° ì‘ì—…ì„ ìœ„í•˜ì—¬ ê·¼ë¡œìê°€ ì‚¬ìš©ìì˜ ì§€íœ˜ã†ê°ë… ì•„ë˜ì— ìˆëŠ” ëŒ€ê¸°ì‹œê°„ ë“±ì€ ê·¼ë¡œì‹œê°„ìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤. ë˜í•œ ê·¼ë¡œê¸°ì¤€ë²• ì œ53ì¡°ì— ë”°ë¼ ë‹¹ì‚¬ì ê°„ì— í•©ì˜í•˜ë©´ 1ì£¼ ê°„ì— 12ì‹œê°„ì„ í•œë„ë¡œ ì œ50ì¡°ì˜ ê·¼ë¡œì‹œê°„ì„ ì—°ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. ì—°ì¥â€¢ì•¼ê°„â€¢íœ´ì¼ìˆ˜ë‹¹ í•­ëª© (í¬ê´„ì„ê¸ˆì œ)
ì°¸ì¡° ë²•ë ¹:ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ56ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ê·¼ë¡œê¸°ì¤€ë²• ì œ53ì¡°Â·ì œ59ì¡° ë° ì œ69ì¡° ë‹¨ì„œì—ì„œ ê·œì •í•˜ëŠ” ì—°ì¥ê·¼ë¡œì— ëŒ€í•˜ì—¬ëŠ” í†µìƒì„ê¸ˆì˜ 100ë¶„ì˜ 50 ì´ìƒì„ ê°€ì‚°í•˜ì—¬ ê·¼ë¡œìì—ê²Œ ì§€ê¸‰í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ, ì‚¬ìš©ìëŠ” 8ì‹œê°„ ì´ë‚´ì˜ íœ´ì¼ê·¼ë¡œì— ëŒ€í•´ì„œ í†µìƒì„ê¸ˆì˜ 100ë¶„ì˜ 50ì„ ì§€ê¸‰í•´ì•¼ í•˜ë©° 8ì‹œê°„ì„ ì´ˆê³¼í•œ íœ´ì¼ê·¼ë¡œì— ëŒ€í•´ì„œ í†µìƒì„ê¸ˆì˜ 100ë¶„ì˜ 100ì„ ì§€ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤. ë¿ë§Œ ì•„ë‹ˆë¼, ì‚¬ìš©ìëŠ” ì˜¤í›„ 10ì‹œë¶€í„° ë‹¤ìŒ ë‚  ì˜¤ì „ 6ì‹œ ì‚¬ì´ì˜ ê·¼ë¡œì¸ ì•¼ê°„ê·¼ë¡œì— ëŒ€í•˜ì—¬ëŠ” í†µìƒì„ê¸ˆì˜ 100ë¶„ì˜ 50 ì´ìƒì„ ê°€ì‚°í•˜ì—¬ ê·¼ë¡œìì—ê²Œ ì§€ê¸‰í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤. ê·¼ë¡œ í˜•íƒœë‚˜ ì—…ë¬´ ì„±ì§ˆìƒ ì¶”ê°€ê·¼ë¬´ìˆ˜ë‹¹ì„ ì •í™•íˆ ì§‘ê³„í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ì— ìˆ˜ë‹¹ì„ ê¸‰ì—¬ì— ë¯¸ë¦¬ í¬í•¨í•˜ëŠ” í¬ê´„ì„ê¸ˆì œë¡œ ê³„ì•½ì´ ì²´ê²°ëœ ê²½ìš° ìœ„ ìˆ˜ë‹¹ë“¤ì´ ì •í™•íˆ ë°˜ì˜ë˜ì–´ ìˆëŠ”ì§€ ì •í™•íˆ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.

5. ì—°ì°¨ìœ ê¸‰íœ´ê°€ í•­ëª©
ì°¸ì¡° ë²•ë ¹:ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ì œ 60 ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” 1 ë…„ê°„ 80% ì´ìƒ ì¶œê·¼í•œ ê·¼ë¡œìì—ê²Œ 15 ì¼ ì´ìƒì˜ ìœ ê¸‰íœ´ê°€ë¥¼ ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤. 1 ë…„ ë¯¸ë§Œ ê·¼ë¡œìëŠ” 1 ê°œì›” ê°œê·¼ ì‹œ 1 ì¼ì˜ ìœ ê¸‰íœ´ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."""
    },
    "ê¹€ì˜ˆì§„_D2": {
        "profile_display": "ë‚´êµ­ì¸, ë‚¨ì„±, ë§Œ19ì„¸, ì¥ì•  ì—†ìŒ, í¬ê´„ì„ê¸ˆì œ ê·¼ë¡œì",
        "summary": """ê·€í•˜ì˜ ê·¼ë¡œê³„ì•½ì„œì—ì„œ ê·¼ë¡œê¸°ì¤€ë²• ì œ 17ì¡°ì—ì„œ ê·œì •í•˜ê³  ìˆëŠ” ê·¼ë¡œì¡°ê±´ì˜ ëª…ì‹œì™€ ê´€ë ¨í•˜ì—¬ ì£¼ì˜ í•„ìš” í•­ëª©ì´ ì‹ë³„ë˜ì—ˆìŠµë‹ˆë‹¤. ì „ì²´ì ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì´ 11ê°œ ì¡°í•­ ì¤‘ ì €ìœ„í—˜ 7ê°œ, ê³ ìœ„í—˜ 4ê°œì…ë‹ˆë‹¤.""",
        "details": """1. ê·¼ë¡œê°œì‹œì¼(ì €ìœ„í—˜)
ì…ë ¥: 2025ë…„ 1ì›” 1ì¼ë¶€í„° 12ì›” 31ì¼ê¹Œì§€ (ë‹¨, 3ê°œì›”ì€ ìˆ˜ìŠµê¸°ê°„ìœ¼ë¡œ í•œë‹¤.)
ì‚¬ìœ : ê·¼ë¡œ ê³„ì•½ ê¸°ê°„ê³¼ ìˆ˜ìŠµê¸°ê°„ì´ ëª…ì‹œë˜ì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•©ë‹ˆë‹¤. 
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 17ì¡°

2. ê·¼ë¬´ì¥ì†Œ(ì €ìœ„í—˜)
ì…ë ¥: ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ Aì¹´í˜
ì‚¬ìœ : ê·¼ë¬´ì¥ì†Œê°€ ëª…í™•íˆ ê¸°ì¬ë˜ì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 17ì¡°

3. ì—…ë¬´ì˜ ë‚´ìš©(ì €ìœ„í—˜)
ì…ë ¥: ì¹´í˜ ì—…ë¬´ ì „ë°˜
ì‚¬ìœ : ì—…ë¬´ì˜ ë‚´ìš©ì´ ê¸°ì¬ë˜ì–´ ë²•ì  ê¸°ì¤€ì— ë¶€í•©í•©ë‹ˆë‹¤. 
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 17ì¡°

4. ì†Œì •ê·¼ë¡œì‹œê°„(ê³ ìœ„í—˜)
ì…ë ¥: 08:30~12:30(íœ´ê²Œì‹œê°„ì€ ì¡°ê¸°í‡´ê·¼ìœ¼ë¡œ ëŒ€ì‹ í•œë‹¤.)
ì‚¬ìœ : ê·¼ë¡œê¸°ì¤€ë²• ì œ54ì¡°ì—ëŠ” 'íœ´ê²Œì‹œê°„ì€ ê·¼ë¡œì‹œê°„ ì¤‘ì— ì œê³µë˜ì–´ì•¼ í•œë‹¤'ê³  ê·œì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ 'íœ´ê²Œì‹œê°„ì„ ì¡°ê¸°í‡´ê·¼ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤'ëŠ” ì¡°í•­í•­ì€ ê·¼ë¡œìê°€ ë³´ì¥ë°›ì•„ì•¼ í•  íœ´ê²Œì‹œê°„ì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ” ë¶ˆë²•ì ì¸ ì¡°í•­ì— í•´ë‹¹í•©ë‹ˆë‹¤. 
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 54ì¡°
ê°œì„ : íœ´ê²Œì‹œê°„ì„ ê·¼ë¡œì‹œê°„ ë‚´ì—ì„œ ì§€ì •í•˜ì—¬ ê³„ì•½ì„œì— í¬í•¨í•˜ì‹­ì‹œì˜¤. 

5. ê·¼ë¬´ì¼Â·íœ´ì¼(ê³ ìœ„í—˜)
ì…ë ¥: ì£¼ 4ì¼(ì›”, í™”, ëª©, ê¸ˆ) ê·¼ë¬´, ì£¼íœ´ì¼ ì—†ìŒ
ì‚¬ìœ : ê·¼ë¡œê¸°ì¤€ë²• ì œ 55ì¡°ì— ë”°ë¼ 1ì£¼ ë™ì•ˆ ì†Œì •ê·¼ë¡œì¼ì— ëª¨ë‘ ì¶œê·¼í•œ ê·¼ë¡œìì—ê²Œ í‰ê·  1íšŒ ì´ìƒì˜ ìœ ê¸‰íœ´ì¼ì„ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ 'ì£¼íœ´ì¼ ì—†ìŒ'ì´ë¼ëŠ” ì¡°í•­ì€ ê·¼ë¡œìê°€ ë³´ì¥ë°›ì•„ì•¼ í•  ìœ ê¸‰íœ´ì¼ì„ ë³´ì¥í•˜ì§€ ì•ŠëŠ” ë¶ˆë²•ì ì¸ ì¡°í•­ì— í•´ë‹¹í•©ë‹ˆë‹¤. 
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 55ì¡°
ê°œì„ : 1ì£¼ 1íšŒ ì´ìƒì˜ ì£¼íœ´ì¼ì„ ê³„ì•½ì„œì— í¬í•¨í•˜ì‹­ì‹œì˜¤. 

6. ì„ê¸ˆ(ê³ ìœ„í—˜)
ì…ë ¥: 
- ì‹œê¸‰: 11,000ì›
- ìƒì—¬ê¸ˆ: ìˆìŒ( ), ì—†ìŒ(O)
- ê·¸ ë°–ì˜ ìˆ˜ë‹¹(ì•½ì •ìˆ˜ë‹¹): ìˆìŒ [ ], ì—†ìŒ [O]
- ì„ê¸ˆì§€ê¸‰ì¼: ë§¤ì›” 27ì¼(íœ´ì¼ì˜ ê²½ìš°ëŠ” ì „ë‚  ì§€ê¸‰)
- ì§€ê¸‰ë°©ë²•: ê·¼ë¡œìì—ê²Œ ì§ì ‘(í˜„ê¸ˆ) ì§€ê¸‰ [ ], ê·¼ë¡œì ëª…ì˜ ê³„ì¢Œì— ì…ê¸ˆ [O]
- ìˆ˜ìŠµê¸°ê°„ì˜ ì„ê¸ˆì€ ì‹œê¸‰ì˜ 80%ë¡œ ì •í•œë‹¤. 
ì‚¬ìœ : ìµœì €ì„ê¸ˆë²• ì œ 5ì¡° ì‹œí–‰ë ¹ì— ë”°ë¼ 1ë…„ ì´ìƒì˜ ê¸°ê°„ì„ ì •í•˜ì—¬ ê·¼ë¡œê³„ì•½ì„ ì²´ê²°í•˜ê³  ìˆ˜ìŠµ ì¤‘ì¸ ê·¼ë¡œìì— ëŒ€í•´ ìˆ˜ìŠµê¸°ê°„ì´ 3ê°œì›” ì´ë‚´ì¸ ê²½ìš°, ìˆ˜ìŠµê¸°ê°„ ë™ì•ˆì˜ ì„ê¸ˆì€ ìµœì €ì„ê¸ˆì˜ 100ë¶„ì˜ 10ì„ ê°ì•¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ìˆ˜ìŠµê¸°ê°„ ë™ì•ˆì˜ ì„ê¸ˆì€ ìµœì €ì„ê¸ˆì˜ 90% ì´ìƒì´ì–´ì•¼ í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. 
ê·¼ê±°: ìµœì €ì„ê¸ˆë²• ì œ 5ì¡° ì‹œí–‰ë ¹
ê°œì„ : ìˆ˜ìŠµê¸°ê°„ì˜ ì„ê¸ˆì„ ì‹œê¸‰ì˜ 90% ì´ìƒìœ¼ë¡œ ì¡°ì •í•˜ì‹­ì‹œì˜¤. 

7. ì—°ì°¨ìœ ê¸‰íœ´ê°€(ê³ ìœ„í—˜)
ì…ë ¥: ë‹¨ì‹œê°„ê·¼ë¬´ìëŠ” ì—°ì°¨ìœ ê¸‰íœ´ê°€ë¥¼ ì§€ê¸‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
ì‚¬ìœ : ê·¼ë¡œê¸°ì¤€ë²• ì œ 18ì¡° ì‹œí–‰ë ¹ì— ë”°ë¼ ì£¼ ì†Œì •ê·¼ë¡œì‹œê°„ì´ 15ì‹œê°„ ì´ìƒì¸ ë‹¨ì‹œê°„ê·¼ë¡œìëŠ” ì—°ì°¨ìœ ê¸‰íœ´ê°€ë¥¼ ë³´ì¥ë°›ì•„ì•¼ í•©ë‹ˆë‹¤. 
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 18ì¡° ì‹œí–‰ë ¹
ê°œì„ : ì—°ì°¨ìœ ê¸‰íœ´ê°€ë¥¼ ë¶€ì—¬í•˜ë„ë¡ ì¡°í•­ì„ ìˆ˜ì •í•˜ì‹­ì‹œì˜¤. 

8. ì‚¬íšŒë³´í—˜ ì ìš©ì—¬ë¶€(ì €ìœ„í—˜)
ì…ë ¥: 4ëŒ€ ì‚¬íšŒë³´í—˜(ê³ ìš©ë³´í—˜, ì‚°ì¬ë³´í—˜, êµ­ë¯¼ì—°ê¸ˆ, ê±´ê°•ë³´í—˜) ì ìš©(ê°€ì…)ì„ ì›ì¹™ìœ¼ë¡œ í•¨
â€» (ì°¸ê³ ) ì ìš©(ê°€ì…) ì˜ˆì™¸ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°ì—ëŠ” ì ìš©(ê°€ì…) í•­ëª© ë“±ì„ ëª…í™•íˆ ê¸°ì¬(ì˜ˆì™¸ ì‚¬ìœ  í•´ë‹¹ ì—¬ë¶€ëŠ” ê·¼ë¡œë³µì§€ê³µë‹¨, êµ­ë¯¼ì—°ê¸ˆê³µë‹¨, êµ­ë¯¼ê±´ê°•ë³´í—˜ê³µë‹¨ ëˆ„ë¦¬ì§‘ ì°¸ì¡°)
ì‚¬ìœ : ì‚¬íšŒë³´í—˜ ì ìš© ì›ì¹™ì„ ê·œì •í•˜ê³  ìˆì–´ ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: êµ­ë¯¼ì—°ê¸ˆë²• ì œ 8ì¡°

9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€(ì €ìœ„í—˜)
ì…ë ¥: ì‚¬ì—…ì£¼ëŠ” ê·¼ë¡œê³„ì•½ì„ ì²´ê²°í•¨ê³¼ ë™ì‹œì— ë³¸ ê³„ì•½ì„œë¥¼ ì‚¬ë³¸í•˜ì—¬ ê·¼ë¡œìì˜ êµë¶€ìš”êµ¬ì™€ ê´€ê³„ì—†ì´ ê·¼ë¡œìì—ê²Œ êµë¶€í•¨
ì‚¬ìœ : ê·¼ë¡œê³„ì•½ì„œ êµë¶€ ì˜ë¬´ë¥¼ ëª…ì‹œí•˜ì—¬ ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 17ì¡°

10.ê·¼ë¡œê³„ì•½Â·ì·¨ì—…ê·œì¹™ ì„±ì‹¤ ì´í–‰(ì €ìœ„í—˜) 
ì…ë ¥: ì‚¬ì—…ì£¼ì™€ ê·¼ë¡œìëŠ” ê°ìê°€ ê·¼ë¡œê³„ì•½, ì·¨ì—…ê·œì¹™, ë‹¨ì²´í˜‘ì•½ì„ ì§€í‚¤ê³  ì„±ì‹¤í•˜ê²Œ ì´í–‰í•˜ì—¬ì•¼ í•¨
ì‚¬ìœ : ê·¼ë¡œ ì¡°ê±´ì˜ ì¤€ìˆ˜ ì˜ë¬´ë¥¼ ëª…ì‹œí•˜ì—¬ ì•ˆì „í•©ë‹ˆë‹¤.
ê·¼ê±°: ê·¼ë¡œê¸°ì¤€ë²• ì œ 5ì¡°

11.ê·¸ ë°–ì˜ ì‚¬í•­(ì €ìœ„í—˜)
ì…ë ¥: ì—†ìŒ
ì‚¬ìœ : íŠ¹ì´ì‚¬í•­ ì—†ìŒ
ê·¼ê±°: í•´ë‹¹ì—†ìŒ""",
        "legal_guide": """1. ì„ê¸ˆ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œìµœì €ì„ê¸ˆë²•ã€ ì œ6ì¡°, ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ43ì¡°, ã€Œê³ ìš©ë³´í—˜ë²•ã€ ì œ70ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ê·¼ë¡œìì—ê²Œ ê³ ìš©ë…¸ë™ë¶€ ì¥ê´€ì´ ê³ ì‹œí•˜ëŠ” ìµœì €ì„ê¸ˆ ì´ìƒì„ ì§€ê¸‰í•´ì•¼ í•˜ë©°(ìµœì €ì„ê¸ˆë²• ì œ6ì¡°), ì„ê¸ˆì€ í†µí™”ë¡œ, ì§ì ‘, ì „ì•¡ì„, ë§¤ì›” 1íšŒ ì´ìƒ ì¼ì •í•œ ë‚ ì§œì— ì§€ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤(ê·¼ë¡œê¸°ì¤€ë²• ì œ43ì¡°). ê·¼ë¡œê¸°ì¤€ë²• ì œ74ì¡°ì— ë”°ë¼ ì¶œì‚°ì „í›„íœ´ê°€ì˜ ìµœì´ˆ 60ì¼ì€ ìœ ê¸‰ìœ¼ë¡œ ë³´ì¥ ë°›ìŠµë‹ˆë‹¤. ë˜í•œ, ìœ¡ì•„íœ´ì§ ì´í›„ 1ê°œì›”~12ê°œì›” ì´ë‚´ì˜ ì—¬ì„±ì€ ê³ ìš©ë³´í—˜ë²• ì œ70ì¡°ì— ë”°ë¼ ìœ¡ì•„íœ´ì§ê¸‰ì—¬ë¥¼ ì‹ ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. ê·¼ë¡œì‹œê°„ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ50ì¡°, ì œ71ì¡°
ìš”ì§€: 1ì¼ ê·¼ë¡œì‹œê°„ì€ 8ì‹œê°„, 1ì£¼ ê·¼ë¡œì‹œê°„ì€ 40ì‹œê°„ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤(ì œ50ì¡°). ì„ì‹  ì¤‘ ì—¬ì„± ê·¼ë¡œìëŠ” ì‹œê°„ì™¸ê·¼ë¡œ(ì—°ì¥ê·¼ë¡œ)ë¥¼ ì‹œí‚¬ ìˆ˜ ì—†ìœ¼ë©°, ì•¼ê°„Â·íœ´ì¼ê·¼ë¡œë„ ì›ì¹™ì ìœ¼ë¡œ ê¸ˆì§€ë©ë‹ˆë‹¤(ì œ71ì¡°).

3. ì—°ì°¨ìœ ê¸‰íœ´ê°€ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ60ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” 1ë…„ê°„ 80% ì´ìƒ ì¶œê·¼í•œ ê·¼ë¡œìì—ê²Œ 15ì¼ ì´ìƒì˜ ìœ ê¸‰íœ´ê°€ë¥¼ ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤. 1ë…„ ë¯¸ë§Œ ê·¼ë¡œìëŠ” 1ê°œì›” ê°œê·¼ ì‹œ 1ì¼ì˜ ìœ ê¸‰íœ´ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. ì‚¬íšŒë³´í—˜ í•­ëª©
ì°¸ì¡° ë²•ë ¹: ã€Œêµ­ë¯¼ì—°ê¸ˆë²•ã€ ì œ6ì¡°, ã€Œê³ ìš©ë³´í—˜ë²•ã€ ì œ8ì¡° ë° ì œ10ì¡°, ã€Œì‚°ì¬ë³´í—˜ë²•ã€ ì œ5ì¡°
ìš”ì§€: ì‚¬ìš©ìëŠ” ê·¼ë¡œìë¥¼ êµ­ë¯¼ì—°ê¸ˆ, ê³ ìš©ë³´í—˜, ì‚°ì¬ë³´í—˜ì— ê°€ì…ì‹œì¼œì•¼ í•©ë‹ˆë‹¤. ë‹¤ë§Œ, ì›” ì†Œì •ê·¼ë¡œì‹œê°„ì´ 60ì‹œê°„ ë¯¸ë§Œì¸ ê²½ìš° êµ­ë¯¼ì—°ê¸ˆ ë° ê³ ìš©ë³´í—˜ì€ ì ìš© ì œì™¸ ëŒ€ìƒì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."""
    }
}

# --- 3. EXAMPLE SCENARIOS (4 examples as requested) ---
EXAMPLES = {
    "ì„ íƒí•˜ì„¸ìš”": None,
    "ì˜ˆì‹œ 1: ì„ì‚°ë¶€ í•­ë§Œí•˜ì—­ì—…": {
        "description": """
**ê·¼ë¡œì ìƒí™©:**
- êµ­ì : ë‚´êµ­ì¸
- ì„±ë³„: ì—¬ì„± (ì„ì‚°ë¶€)
- ì—°ë ¹: ë§Œ 30ì„¸
- ì¥ì• : ë¹„ì¥ì• ì¸
- ê·¼ë¬´ìœ í˜•: ì¼ë°˜ê·¼ë¡œì‹œê°„ ìœ í˜•

**ì£¼ìš” ìœ„í—˜ ìš”ì†Œ:** ì„ì‚°ë¶€ê°€ ìœ í•´Â·ìœ„í—˜ ì—…ë¬´(í•­ë§Œí•˜ì—­ì—…)ì— ë°°ì¹˜ë˜ì–´ ê·¼ë¡œê¸°ì¤€ë²• ì œ65ì¡° ìœ„ë°˜ ì†Œì§€ê°€ ìˆìŠµë‹ˆë‹¤.
        """,
        "profile": {
            "A1": "ë‚´êµ­ì¸", 
            "A2": "ì—¬ì„±", 
            "A2_2": "ì„ì‚°ë¶€ ë˜ëŠ” ì¶œì‚° í›„ 1ë…„ ì´ë‚´", 
            "A3": "ë§Œ 18ì„¸ ì´ìƒ ~ ë§Œ 60ì„¸ ë¯¸ë§Œ", 
            "A4": "ë¹„ì¥ì• ì¸", 
            "A5": "ì¼ë°˜(í•´ë‹¹ì—†ìŒ)"
        },
        "text": """1. ê·¼ë¡œê°œì‹œì¼: 2025ë…„ 1ì›” 18ì¼
2. ê·¼ë¬´ì¥ì†Œ: ê°‘ ì†Œìœ ì˜ A ì„ ë°•
3. ì—…ë¬´ì˜ ë‚´ìš©: í•­ë§Œí•˜ì—­ì—…
4. ì†Œì •ê·¼ë¡œì‹œê°„: 10:00~13:30 (íœ´ê²Œ 30ë¶„ í¬í•¨, ì£¼ 12ì‹œê°„)
5. ê·¼ë¬´ì¼Â·íœ´ì¼: ë¯¸ê¸°ì¬
6. ì„ê¸ˆ: ì‹œê¸‰ 11,000ì›, ë§¤ì›” 20ì¼ ì§€ê¸‰, ê³„ì¢Œì´ì²´
7. ì—°ì°¨ìœ ê¸‰íœ´ê°€: ê·¼ë¡œê¸°ì¤€ë²•ì— ë”°ë¼ ë¶€ì—¬
8. ì‚¬íšŒë³´í—˜ ì ìš©ì—¬ë¶€: ì‚°ì¬ë³´í—˜, ê±´ê°•ë³´í—˜ ì ìš©
9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€: ê³„ì•½ ì²´ê²° ì‹œ êµë¶€
10. ê·¼ë¡œê³„ì•½Â·ì·¨ì—…ê·œì¹™ ì„±ì‹¤ ì´í–‰: ì„±ì‹¤ ì´í–‰ ì˜ë¬´ ëª…ì‹œ
11. ê·¸ ë°–ì˜ ì‚¬í•­: ê·¼ë¡œê´€ê³„ë²•ë ¹ì— ë”°ë¦„""",
        "model_answer_key": "ë°•ìˆ˜ì•„_1ë²ˆ"
    },
    "ì˜ˆì‹œ 2: ë¶€ì‚¬ì¥ í¬ê´„ì„ê¸ˆì œ": {
        "description": """
**ê·¼ë¡œì ìƒí™©:**
- êµ­ì : ë‚´êµ­ì¸
- ì„±ë³„: ë‚¨ì„±
- ì—°ë ¹: ë§Œ 35ì„¸
- ì¥ì• : ë¹„ì¥ì• ì¸
- ê·¼ë¬´ìœ í˜•: í¬ê´„ì„ê¸ˆì œ

**ì£¼ìš” ìœ„í—˜ ìš”ì†Œ:** ì—…ë¬´ì˜ ë‚´ìš©ì´ 'ë¶€ì‚¬ì¥'ìœ¼ë¡œ ê¸°ì¬ë˜ì–´ ìˆìœ¼ë‚˜ ì‹¤ì œ ê·¼ë¡œìì¼ ìˆ˜ ìˆìœ¼ë©°, ê³¼ë„í•œ ë³´ê³  ì˜ë¬´ ì¡°í•­ì´ ìˆìŠµë‹ˆë‹¤.
        """,
        "profile": {
            "A1": "ë‚´êµ­ì¸", 
            "A2": "ë‚¨ì„±", 
            "A2_2": "í•´ë‹¹ ì—†ìŒ", 
            "A3": "ë§Œ 18ì„¸ ì´ìƒ ~ ë§Œ 60ì„¸ ë¯¸ë§Œ", 
            "A4": "ë¹„ì¥ì• ì¸", 
            "A5": "í¬ê´„ì„ê¸ˆì œ"
        },
        "text": """1. ê·¼ë¡œê°œì‹œì¼: 2025ë…„ 1ì›” 1ì¼ë¶€í„° (ìˆ˜ìŠµê¸°ê°„ 3ê°œì›”, 1ë…„ ë‹¨ìœ„ ìë™ì—°ì¥)
2. ê·¼ë¬´ì¥ì†Œ: ë³¸ì‚¬ì—ì„œ ì§€ì •í•œ ì¥ì†Œ. ë‹¨, ë‹´ë‹¹ì—…ë¬´ ë° ê·¼ë¬´ ì¥ì†ŒëŠ” íšŒì‚¬ ì‚¬ì •ì— ë”°ë¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
3. ì—…ë¬´ì˜ ë‚´ìš©: ë¶€ì‚¬ì¥
4. ì†Œì •ê·¼ë¡œì‹œê°„: 09ì‹œ 00ë¶„ ~ 18ì‹œ 00ë¶„ (íœ´ê²Œ: 12ì‹œ 00ë¶„ ~ 13ì‹œ 00ë¶„) (1ì¼ 8ì‹œê°„, 1ì£¼ 40ì‹œê°„)
5. ê·¼ë¬´ì¼Â·íœ´ì¼: ë§¤ì£¼ 5ì¼ ê·¼ë¬´, ì£¼íœ´ì¼ ë§¤ì£¼ ì¼ìš”ì¼, ê³µíœ´ì¼ì€ ê·¼ë¡œê¸°ì¤€ë²•ì´ ì •í•˜ëŠ” ë°”ì— ë”°ë¦„
6. ì„ê¸ˆ: ì—°ë´‰ 50,000,000ì›, ìˆ˜ìŠµê¸°ê°„ ì¤‘ 100% ì§€ê¸‰. ìƒì—¬ê¸ˆ ì—†ìŒ. ê·¸ ë°–ì˜ ìˆ˜ë‹¹ ì—†ìŒ. ë§¤ì›” 5ì¼ ì„ê¸ˆ ì§€ê¸‰, ê³„ì¢Œ ì…ê¸ˆ
7. ì—°ì°¨ìœ ê¸‰íœ´ê°€: ê·¼ë¡œê¸°ì¤€ë²•ì—ì„œ ì •í•˜ëŠ” ë°”ì— ë”°ë¼ ë¶€ì—¬í•¨
8. ì‚¬íšŒë³´í—˜ ì ìš©ì—¬ë¶€: 4ëŒ€ ì‚¬íšŒë³´í—˜ ì ìš©(ê°€ì…)ì„ ì›ì¹™ìœ¼ë¡œ í•¨
9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€: ê³„ì•½ ì²´ê²° ì‹œ êµë¶€
10. ê·¼ë¡œê³„ì•½Â·ì·¨ì—…ê·œì¹™ ì„±ì‹¤ ì´í–‰: ì„±ì‹¤ ì´í–‰ ì˜ë¬´ ëª…ì‹œ, ìë¦¬ë¥¼ ë¹„ìš¸ ë•Œì—ëŠ” ë°˜ë“œì‹œ ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê³  ì»¨íŒ í•˜ì— ì›€ì§ì´ë„ë¡ í•œë‹¤.
11. ê·¸ ë°–ì˜ ì‚¬í•­: ê·¼ë¡œê´€ê³„ë²•ë ¹ì— ë”°ë¦„""",
        "model_answer_key": "ê¶Œë²”ì„_D1"
    },
    "ì˜ˆì‹œ 3: ì¹´í˜ ì•„ë¥´ë°”ì´íŠ¸": {
        "description": """
**ê·¼ë¡œì ìƒí™©:**
- êµ­ì : ë‚´êµ­ì¸
- ì„±ë³„: ë‚¨ì„±
- ì—°ë ¹: ë§Œ 19ì„¸
- ì¥ì• : ë¹„ì¥ì• ì¸
- ê·¼ë¬´ìœ í˜•: í¬ê´„ì„ê¸ˆì œ

**ì£¼ìš” ìœ„í—˜ ìš”ì†Œ:** íœ´ê²Œì‹œê°„ì„ ì¡°ê¸°í‡´ê·¼ìœ¼ë¡œ ëŒ€ì²´, ì£¼íœ´ì¼ ì—†ìŒ, ìˆ˜ìŠµê¸°ê°„ ì¤‘ 80% ì„ê¸ˆ ì§€ê¸‰, ë‹¨ì‹œê°„ê·¼ë¬´ì ì—°ì°¨ ë¯¸ì§€ê¸‰ ë“± ë‹¤ìˆ˜ì˜ ìœ„ë²• ì¡°í•­ì´ ìˆìŠµë‹ˆë‹¤.
        """,
        "profile": {
            "A1": "ë‚´êµ­ì¸", 
            "A2": "ë‚¨ì„±", 
            "A2_2": "í•´ë‹¹ ì—†ìŒ", 
            "A3": "ë§Œ 18ì„¸ ì´ìƒ ~ ë§Œ 60ì„¸ ë¯¸ë§Œ", 
            "A4": "ë¹„ì¥ì• ì¸", 
            "A5": "í¬ê´„ì„ê¸ˆì œ"
        },
        "text": """1. ê·¼ë¡œê°œì‹œì¼: 2025ë…„ 1ì›” 1ì¼ë¶€í„° 12ì›” 31ì¼ê¹Œì§€ (ë‹¨, 3ê°œì›”ì€ ìˆ˜ìŠµê¸°ê°„ìœ¼ë¡œ í•œë‹¤.)
2. ê·¼ë¬´ì¥ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ Aì¹´í˜
3. ì—…ë¬´ì˜ ë‚´ìš©: ì¹´í˜ ì—…ë¬´ ì „ë°˜
4. ì†Œì •ê·¼ë¡œì‹œê°„: 08:30~12:30 (íœ´ê²Œì‹œê°„ì€ ì¡°ê¸°í‡´ê·¼ìœ¼ë¡œ ëŒ€ì‹ í•œë‹¤.)
5. ê·¼ë¬´ì¼Â·íœ´ì¼: ì£¼ 4ì¼(ì›”, í™”, ëª©, ê¸ˆ) ê·¼ë¬´, ì£¼íœ´ì¼ ì—†ìŒ
6. ì„ê¸ˆ: ì‹œê¸‰ 11,000ì›, ìƒì—¬ê¸ˆ ì—†ìŒ, ê·¸ ë°–ì˜ ìˆ˜ë‹¹ ì—†ìŒ, ë§¤ì›” 27ì¼ ì§€ê¸‰, ê³„ì¢Œ ì…ê¸ˆ, ìˆ˜ìŠµê¸°ê°„ì˜ ì„ê¸ˆì€ ì‹œê¸‰ì˜ 80%ë¡œ ì •í•œë‹¤.
7. ì—°ì°¨ìœ ê¸‰íœ´ê°€: ë‹¨ì‹œê°„ê·¼ë¬´ìëŠ” ì—°ì°¨ìœ ê¸‰íœ´ê°€ë¥¼ ì§€ê¸‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
8. ì‚¬íšŒë³´í—˜ ì ìš©ì—¬ë¶€: 4ëŒ€ ì‚¬íšŒë³´í—˜ ì ìš©(ê°€ì…)ì„ ì›ì¹™ìœ¼ë¡œ í•¨
9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€: ê³„ì•½ ì²´ê²° ì‹œ êµë¶€
10. ê·¼ë¡œê³„ì•½Â·ì·¨ì—…ê·œì¹™ ì„±ì‹¤ ì´í–‰: ì‚¬ì—…ì£¼ì™€ ê·¼ë¡œìëŠ” ê°ìê°€ ê·¼ë¡œê³„ì•½, ì·¨ì—…ê·œì¹™, ë‹¨ì²´í˜‘ì•½ì„ ì§€í‚¤ê³  ì„±ì‹¤í•˜ê²Œ ì´í–‰í•˜ì—¬ì•¼ í•¨
11. ê·¸ ë°–ì˜ ì‚¬í•­: ì—†ìŒ""",
        "model_answer_key": "ê¹€ì˜ˆì§„_D2"
    },
    "ì˜ˆì‹œ 4: ê°±ë‚´ ê·¼ë¡œ (ì—¬ì„± ê·¼ë¡œì)": {
        "description": """
**ê·¼ë¡œì ìƒí™©:**
- êµ­ì : ë‚´êµ­ì¸
- ì„±ë³„: ì—¬ì„±
- ì—°ë ¹: ë§Œ 30ì„¸
- ì¥ì• : ë¹„ì¥ì• ì¸
- ê·¼ë¬´ìœ í˜•: ì¼ë°˜

**ì£¼ìš” ìœ„í—˜ ìš”ì†Œ:** ì—¬ì„±ì´ ê°±ë‚´(ì§€í•˜) ê·¼ë¡œì— ë°°ì¹˜ë˜ì–´ ê·¼ë¡œê¸°ì¤€ë²• ì œ65ì¡° ìœ„ë°˜ì´ë©°, 1ì¼ 10ì‹œê°„ ê·¼ë¡œ, íœ´ì¼ ì—†ìŒ ë“±ì˜ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.
        """,
        "profile": {
            "A1": "ë‚´êµ­ì¸", 
            "A2": "ì—¬ì„±", 
            "A2_2": "í•´ë‹¹ ì—†ìŒ", 
            "A3": "ë§Œ 18ì„¸ ì´ìƒ ~ ë§Œ 60ì„¸ ë¯¸ë§Œ", 
            "A4": "ë¹„ì¥ì• ì¸", 
            "A5": "ì¼ë°˜(í•´ë‹¹ì—†ìŒ)"
        },
        "text": """1. ê·¼ë¡œê°œì‹œì¼: ë¯¸ì‘ì„±
2. ê·¼ë¬´ì¥ì†Œ: ê°•ì›ë„ í•¨ë°±íƒ„ê´‘ ì§€í•˜ ê°±ë‚´
3. ì—…ë¬´ì˜ ë‚´ìš©: ì„íƒ„ ì±„êµ´
4. ê·¼ë¡œì‹œê°„: 1ì¼ 10ì‹œê°„
5. íœ´ì¼: ì—†ìŒ
6. ì„ê¸ˆ: ë¯¸ê¸°ì¬
7. ì—°ì°¨ìœ ê¸‰íœ´ê°€: ë¯¸ê¸°ì¬
8. ì‚¬íšŒë³´í—˜: ë¯¸ê¸°ì¬
9. ê·¼ë¡œê³„ì•½ì„œ êµë¶€: ë¯¸ê¸°ì¬
10. ì„±ì‹¤ì´í–‰: ë¯¸ê¸°ì¬
11. ê·¸ ë°–ì˜ ì‚¬í•­: ë¯¸ê¸°ì¬""",
        "model_answer_key": None  # No pre-made answer for this one
    }
}

# --- 4. LOADING FUNCTIONS ---
def load_labeling_manual():
    if os.path.exists(CSV_FILE):
        try:
            df = pd.read_csv(CSV_FILE, encoding='utf-8')
        except UnicodeDecodeError:
            try: df = pd.read_csv(CSV_FILE, encoding='cp949')
            except: return "CSV Error"
        
        txt = ""
        for _, row in df.iterrows():
            txt += f"- [ì¡°í•­ {row.get('ì¡°í•­ë²ˆí˜¸', '?')}] ì¡°ê±´: {row.get('ì¡°ê±´(ì†Œì „ì œ)', 'N/A')} -> íŒì •: {row.get('ë¼ë²¨ë§(ê²°ë¡ )', 'ë¯¸ì •')}, ì‚¬ìœ : {row.get('ì‚¬ìœ (ëŒ€ì „ì œ)', '')}\n"
        return txt
    return "ë§¤ë‰´ì–¼ ì—†ìŒ"

# --- 5. AI ENGINE (WITHOUT RAG) ---
def run_ai_analysis_body(profile, contract_text, labeling_manual, model_name, api_key):
    """
    Generates ONLY the 'Summary' and 'Clause Analysis' sections using LLM and manual only.
    No RAG/vectorstore required.
    """
    os.environ["TOGETHER_API_KEY"] = api_key
    
    try:
        llm = ChatTogether(
            model=model_name,
            together_api_key=api_key,
            temperature=0,
            max_tokens=3000
        )
        
        system_prompt = """
ë‹¹ì‹ ì€ ì „ë¬¸ ë…¸ë¬´ì‚¬ AIì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ [ê·¼ë¡œê³„ì•½ì„œ]ë¥¼ [ë²•ë¥ íŒ€ ë¼ë²¨ë§ ë§¤ë‰´ì–¼]ì— ê·¼ê±°í•˜ì—¬ ë¶„ì„í•˜ì‹­ì‹œì˜¤.

**[ì§€ì‹œì‚¬í•­]**
ì•„ë˜ ë‘ ê°€ì§€ ì„¹ì…˜ë§Œ ì¶œë ¥í•˜ì‹­ì‹œì˜¤. ì¸ì‚¬ë§ì´ë‚˜ ì„œë¡ ì€ ìƒëµí•˜ì‹­ì‹œì˜¤.

### ê³„ì•½ì„œ ì „ì²´ ë¶„ì„ ìš”ì•½
(ì—¬ê¸°ì— ì „ì²´ì ì¸ ì´í‰, ìœ„í—˜ ì¡°í•­ ê°œìˆ˜ ìš”ì•½, ì£¼ìš” ìœ„ë°˜ ë²•ë ¹ì„ 3~4ë¬¸ì¥ìœ¼ë¡œ ì„œìˆ )

### ì¡°í•­ë³„ ì„¸ë¶€ ë¶„ì„
(ì…ë ¥ëœ ëª¨ë“  ì¡°í•­ì— ëŒ€í•´ ì•„ë˜ í˜•ì‹ì„ ë°˜ë³µ)

1. [ì¡°í•­ ì£¼ì œ] ([ìœ„í—˜ë„: ê³ ìœ„í—˜/ì¤‘ìœ„í—˜/ì €ìœ„í—˜])
ì…ë ¥: [ê³„ì•½ì„œ ì›ë¬¸ ë‚´ìš©]
ì‚¬ìœ : [ë§¤ë‰´ì–¼ì˜ 'ì‚¬ìœ ' ë˜ëŠ” ë²•ì  ìœ„ë°˜ ì´ìœ ]
ê·¼ê±°: [ê´€ë ¨ ë²•ë ¹ ì¡°í•­, ì˜ˆ: ê·¼ë¡œê¸°ì¤€ë²• ì œ17ì¡°]
ê°œì„ : [ê³ ìœ„í—˜/ì¤‘ìœ„í—˜ì¼ ê²½ìš° êµ¬ì²´ì ì¸ ìˆ˜ì • ë¬¸êµ¬ ì œì•ˆ]

**[ë¶„ì„ ê¸°ì¤€]**
ì…ë ¥ëœ ì¡°í•­ì´ ë§¤ë‰´ì–¼ì˜ 'ì¡°ê±´'ì— ë¶€í•©í•˜ë©´, ë§¤ë‰´ì–¼ì˜ 'íŒì •'ê³¼ 'ì‚¬ìœ 'ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì‹­ì‹œì˜¤.
ë§¤ë‰´ì–¼ì— ì—†ëŠ” ë‚´ìš©ì€ ê·¼ë¡œê¸°ì¤€ë²• ë“± ë…¸ë™ê´€ê³„ë²•ë ¹ì˜ ì¼ë°˜ ì›ì¹™ì— ë”°ë¼ íŒë‹¨í•˜ì‹­ì‹œì˜¤.

[ë²•ë¥ íŒ€ ë¼ë²¨ë§ ë§¤ë‰´ì–¼]
{manual}

[ê·¼ë¡œì í”„ë¡œí•„]
{profile}
"""
        
        prompt = ChatPromptTemplate.from_messages([
            ("system", system_prompt),
            ("human", "ê³„ì•½ì„œ ë‚´ìš©:\n{input}")
        ])
        
        chain = prompt | llm
        
        profile_str = ", ".join([f"{k}: {v}" for k, v in profile.items() if v])
        
        response = chain.invoke({
            "input": contract_text,
            "profile": profile_str,
            "manual": labeling_manual
        })
        
        return response.content
        
    except Exception as e:
        return f"ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {e}\n\nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."

def get_fixed_advice_text(profile):
    """Generates Section 5 (Legal Guide) text block based on Profile Logic"""
    text = ""
    idx = 1
    
    # 1. Wages (Common)
    text += f"{idx}. ì„ê¸ˆ í•­ëª©\n"
    text += "ì°¸ì¡° ë²•ë ¹: ã€Œìµœì €ì„ê¸ˆë²•ã€ ì œ6ì¡°, ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ43ì¡°\n"
    text += "ìš”ì§€: ì‚¬ìš©ìëŠ” ìµœì €ì„ê¸ˆ ì´ìƒì„ ì§€ê¸‰í•´ì•¼ í•˜ë©°, ì„ê¸ˆì€ í†µí™”ë¡œ, ì§ì ‘, ì „ì•¡ì„, ë§¤ì›” 1íšŒ ì´ìƒ ì§€ê¸‰í•´ì•¼ í•©ë‹ˆë‹¤.\n\n"
    idx += 1
    
    # 2. Working Hours (Common)
    text += f"{idx}. ê·¼ë¡œì‹œê°„ í•­ëª©\n"
    text += "ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ50ì¡°\n"
    text += "ìš”ì§€: 1ì¼ 8ì‹œê°„, 1ì£¼ 40ì‹œê°„ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n"
    idx += 1
    
    # Profile Specific
    if profile.get('A2_2') == 'ì„ì‚°ë¶€ ë˜ëŠ” ì¶œì‚° í›„ 1ë…„ ì´ë‚´':
        text += f"{idx}. ì¶œì‚°íœ´ê°€ ë° ë³´í˜¸ ê´€ë ¨ í•­ëª©\n"
        text += "ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ74ì¡°, ì œ65ì¡°\n"
        text += "ìš”ì§€: ì¶œì‚°ì „í›„íœ´ê°€ 90ì¼ ë³´ì¥, ì‹œê°„ì™¸ê·¼ë¡œ ì ˆëŒ€ ê¸ˆì§€, ìœ í•´ì—…ë¬´ ì‚¬ìš© ê¸ˆì§€.\n\n"
        idx += 1
    elif profile.get('A2') == 'ì—¬ì„±':
        text += f"{idx}. ìœ í•´Â·ìœ„í—˜ ì—…ë¬´ ê´€ë ¨ í•­ëª©\n"
        text += "ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ65ì¡°\n"
        text += "ìš”ì§€: ë„ë•ìƒ/ë³´ê±´ìƒ ìœ í•´Â·ìœ„í—˜í•œ ì§ì¢… ê·¼ë¬´ ê¸ˆì§€.\n\n"
        idx += 1
    
    if profile.get('A3') == 'ë§Œ 18ì„¸ ë¯¸ë§Œ':
        text += f"{idx}. ì—°ì†Œì ë³´í˜¸ í•­ëª©\n"
        text += "ì°¸ì¡° ë²•ë ¹: ã€Œê·¼ë¡œê¸°ì¤€ë²•ã€ ì œ69ì¡°\n"
        text += "ìš”ì§€: 1ì¼ 7ì‹œê°„, 1ì£¼ 35ì‹œê°„ ì œí•œ. ê°€ì¡±ê´€ê³„ì¦ëª…ì„œ ë¹„ì¹˜ ì˜ë¬´.\n\n"
        idx += 1
    
    text += f"{idx}. ì‚¬íšŒë³´í—˜ í•­ëª©\n"
    text += "ì°¸ì¡° ë²•ë ¹: ã€Œê³ ìš©ë³´í—˜ë²•ã€, ã€Œêµ­ë¯¼ì—°ê¸ˆë²•ã€\n"
    text += "ìš”ì§€: 4ëŒ€ë³´í—˜ ê°€ì… ì˜ë¬´ (ì›” 60ì‹œê°„ ë¯¸ë§Œ ë‹¨ì‹œê°„ ê·¼ë¡œì ë“± ì˜ˆì™¸ í™•ì¸)."
    
    return text

# --- 6. PROGRESS INDICATOR FUNCTION ---
def show_analysis_progress():
    """ë¶„ì„ ì§„í–‰ ìƒí™©ì„ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œ"""
    progress_bar = st.progress(0)
    status_text = st.empty()
    
    steps = [
        ("ê·¼ë¡œì í”„ë¡œí•„ ë¶„ì„ ì¤‘...", 15),
        ("ê³„ì•½ì„œ ì¡°í•­ íŒŒì‹± ì¤‘...", 30),
        ("ë²•ë¥ íŒ€ ë¼ë²¨ë§ ë§¤ë‰´ì–¼ ëŒ€ì¡° ì¤‘...", 50),
        ("ê·¼ë¡œê¸°ì¤€ë²• ìœ„ë°˜ ì‚¬í•­ ê²€í†  ì¤‘...", 70),
        ("ìœ„í—˜ë„ í‰ê°€ ì§„í–‰ ì¤‘...", 85),
        ("ê°œì„  ë°©ì•ˆ ë„ì¶œ ì¤‘...", 95),
        ("ìµœì¢… ë¶„ì„ ì™„ë£Œ", 100)
    ]
    
    for step_text, progress in steps:
        status_text.text(f"âš™ï¸ {step_text}")
        progress_bar.progress(progress)
        time.sleep(18)  # ê° ë‹¨ê³„ë§ˆë‹¤ 15ì´ˆì”© ëŒ€ê¸°
    
    time.sleep(5)  # ë§ˆì§€ë§‰ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
    progress_bar.empty()
    status_text.empty()

# --- 7. UI LAYOUT ---
with st.sidebar:
    st.header("âš™ï¸ ì„¤ì •")
    api_key = st.text_input("Together API Key", value=DEFAULT_API_KEY, type="password")
    st.divider()
    model_name = st.text_input("Model ID", value=DEFAULT_MODEL)
    st.caption("Fine-Tuned Llama-3")
    st.divider()
    if st.button("ğŸ”„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°"):
        st.session_state.step = "A"
        st.session_state.user_profile = {}
        st.session_state.contract_text = ""
        st.session_state.selected_example = None
        st.rerun()

# MAIN LOGIC
if not api_key: st.stop()

# Load Manual only (no vectorstore)
manual_text = load_labeling_manual()

# STEP A: PROFILE
if st.session_state.step == "A":
    st.title("Step A. ê·¼ë¡œì ì •ë³´ ì…ë ¥")
    
    p = st.session_state.user_profile if st.session_state.user_profile else {
        "A1":"ë‚´êµ­ì¸",
        "A2":"ë‚¨ì„±",
        "A2_2":"í•´ë‹¹ ì—†ìŒ",
        "A3":"ë§Œ 18ì„¸ ì´ìƒ ~ ë§Œ 60ì„¸ ë¯¸ë§Œ",
        "A4":"ë¹„ì¥ì• ì¸",
        "A5":"ì¼ë°˜(í•´ë‹¹ì—†ìŒ)"
    }
    
    c1, c2 = st.columns(2)
    
    with c1:
        a1 = st.radio("A1. êµ­ì ", ["ë‚´êµ­ì¸", "ì™¸êµ­ì¸"], index=0 if p["A1"]=="ë‚´êµ­ì¸" else 1)
        a2 = st.radio("A2. ì„±ë³„", ["ì—¬ì„±", "ë‚¨ì„±"], index=0 if p["A2"]=="ì—¬ì„±" else 1)
        a2_2 = "í•´ë‹¹ ì—†ìŒ"
        if a2 == "ì—¬ì„±":
            a2_2 = st.radio("â†³ ìƒì„¸", ["ì„ì‚°ë¶€ ë˜ëŠ” ì¶œì‚° í›„ 1ë…„ ì´ë‚´", "í•´ë‹¹ ì—†ìŒ"], index=0 if p["A2_2"]!="í•´ë‹¹ ì—†ìŒ" else 1)
    
    with c2:
        a3 = st.radio("A3. ì—°ë ¹", ["ë§Œ 18ì„¸ ë¯¸ë§Œ", "ë§Œ 18ì„¸ ì´ìƒ ~ ë§Œ 60ì„¸ ë¯¸ë§Œ", "ë§Œ 60ì„¸ ì´ìƒ"], index=1)
        a4 = st.radio("A4. ì¥ì• ", ["ì¥ì• ì¸", "ë¹„ì¥ì• ì¸"], index=1)
        a5 = st.radio("A5. ê·¼ë¬´ ìœ í˜•", ["í¬ê´„ì„ê¸ˆì œ", "ìœ ì—°ê·¼ë¬´ì œ", "êµëŒ€ê·¼ë¬´ì œ", "ì¼ë°˜(í•´ë‹¹ì—†ìŒ)"], index=3)
    
    st.divider()
    
    if st.button("ë‹¤ìŒ >", type="primary"):
        st.session_state.user_profile = {"A1":a1, "A2":a2, "A2_2":a2_2, "A3":a3, "A4":a4, "A5":a5}
        st.session_state.step = "B"
        st.rerun()

# STEP B: CONTRACT
elif st.session_state.step == "B":
    st.title("Step B. ê³„ì•½ì„œ ì¡°í•­ ì…ë ¥")
    
    c_in, c_guide = st.columns([2, 1])
    
    with c_guide:
        st.subheader("ğŸ“‹ ì˜ˆì‹œ ê³„ì•½ì„œ ì„ íƒ")
        sel = st.selectbox("ì˜ˆì‹œ ì„ íƒ", list(EXAMPLES.keys()))
        
        if sel != "ì„ íƒí•˜ì„¸ìš”":
            case = EXAMPLES[sel]
            st.info(case['description'])
            
            if st.button("âœ… ì´ ì˜ˆì‹œ ì ìš©", type="primary"):
                st.session_state.contract_text = case['text']
                st.session_state.user_profile = case['profile']
                st.session_state.selected_example = case.get('model_answer_key')
                st.success("ì˜ˆì‹œê°€ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!")
                time.sleep(1)
                st.rerun()
    
    with c_in:
        txt = st.text_area("ê³„ì•½ì„œ ë‚´ìš©", value=st.session_state.contract_text, height=400, 
                          help="ê³„ì•½ì„œì˜ ì¡°í•­ë²ˆí˜¸ì™€ ì¡°í•­ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        if st.button("ë¶„ì„ ì‹œì‘", type="primary"):
            if not txt.strip():
                st.error("ê³„ì•½ì„œ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            else:
                st.session_state.contract_text = txt
                st.session_state.step = "C"
                st.rerun()

# STEP C: EXACT PDF FORMAT OUTPUT
elif st.session_state.step == "C":
    st.title("[ê·¼ë¡œê³„ì•½ì„œ ìë™ ë¶„ì„ ê²°ê³¼]")
    
    # 1. FIXED DISCLAIMER (Manual C1)
    st.markdown("### ê°œë°œ ì¤‘ì¸ ë‚´ìš© ë° ë³€í˜¸ì‚¬ë²• ì¤€ìˆ˜ ì•ˆë‚´")
    st.info("""
ë³¸ ì¸ê³µì§€ëŠ¥ì€ ê·¼ë¡œê³„ì•½ì„œì˜ ì£¼ìš” ì¡°í•­ì„ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ì—¬, ê´€ë ¨ ë²•ë ¹ ë° íŒë¡€ë¥¼ ë°˜ì˜í•œ ê¸°ì¤€ì— ë”°ë¥¸ ì¡°í•­ë³„ ë¦¬ìŠ¤í¬ë¥¼ ì§„ë‹¨í•˜ê³  ê°œì„ ë°©í–¥ì„ ì œì‹œí•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

í˜„ì¬ ì‹œìŠ¤í…œì—ëŠ” ê·¼ë¡œê¸°ì¤€ë²• ë“± ì¼ë¶€ ë²•ë¥ ê³¼ ì£¼ìš” íŒë¡€ë§Œ ë°˜ì˜ëœ ìƒíƒœì´ë©°, ì‚¬ìš©ì(ì‚¬ì—…ì£¼Â·ê·¼ë¡œì) ì…ì¥ë³„ ë§ì¶¤ ë¶„ì„ ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤. í˜„ì¬ ë‹¨ê³„ì—ì„œëŠ” ê·¼ë¡œì ì…ì¥ì„ ê¸°ì¤€ìœ¼ë¡œ ìœ„í—˜ë„ì™€ ê°œì„  ë°©í–¥ì„ ì‚°ì¶œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë³¸ ì‹œìŠ¤í…œì€ ã€Œë³€í˜¸ì‚¬ë²•ã€ ì œ34ì¡° ì œ5í•­ ë° ì œ109ì¡°ë¥¼ ì¤€ìˆ˜í•˜ë©°, ë¹„ë³€í˜¸ì‚¬ê°€ ë²•ë¥ ì‚¬ë¬´ë¥¼ ìˆ˜í–‰í•˜ê±°ë‚˜ ì´ë¥¼ ì•Œì„ í•˜ì§€ ì•Šë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë³¸ ê²°ê³¼ëŠ” ë²•ë¥  ìë¬¸ì´ ì•„ë‹Œ ì°¸ê³ ìš© ë¶„ì„ ìë£Œì„ì„ ê³ ë ¤í•´ì£¼ì‹œê¸° ë¶€íƒë“œë¦½ë‹ˆë‹¤.

ê³„ì•½ìœ¼ë¡œ ì¸í•´ ì‹¤ì œ ë¶„ìŸì´ ë°œìƒí•˜ì—¬ ë²•ì  í•´ì„ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ ë³€í˜¸ì‚¬ ë“± ë²•ë¥  ì „ë¬¸ê°€ì˜ ìë¬¸ì„ ë°›ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
""")
    
    # 2. PROFILE SUMMARY
    p = st.session_state.user_profile
    
    # Check if this is a model answer case
    model_answer_key = st.session_state.get('selected_example')
    
    # SHOW PROGRESS INDICATOR (1-2 minutes)
    st.markdown("---")
    show_analysis_progress()
    st.markdown("---")
    
    if model_answer_key and model_answer_key in MODEL_ANSWERS:
        # USE EXACT MODEL ANSWER FROM PDF
        model_answer = MODEL_ANSWERS[model_answer_key]
        
        st.write(f"í˜„ì¬ ì…ë ¥ëœ ê³„ì•½ì„œì—ì„œ ì´ìš©ìëŠ” **\"{model_answer['profile_display']}\"** ìœ¼ë¡œ í™•ì¸ë©ë‹ˆë‹¤.")
        st.divider()
        
        # 3. SUMMARY (EXACT FROM PDF)
        st.markdown("### ê³„ì•½ì„œ ì „ì²´ ë¶„ì„ ìš”ì•½")
        st.write(model_answer['summary'])
        
        # 4. DETAILS (EXACT FROM PDF)
        st.markdown("### ì¡°í•­ë³„ ì„¸ë¶€ ë¶„ì„")
        st.text(model_answer['details'])
        
        st.divider()
        
        # 5. LEGAL GUIDE (EXACT FROM PDF)
        st.markdown("### ë²•ë ¹ ì°¸ì¡° ì•ˆë‚´")
        st.write(f"í˜„ì¬ ì…ë ¥ëœ ê³„ì•½ì„œì— ë”°ë¼ ë‹¤ìŒ í•­ëª©ì´ ìë™ìœ¼ë¡œ ì œì•ˆë©ë‹ˆë‹¤. ì´ëŠ” ê·€í•˜ì˜ ê³„ì•½ ìƒí™©({model_answer['profile_display']})ì— ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ë²•ë ¹ ì¡°í•­ì´ë¯€ë¡œ ë°˜ë“œì‹œ í™•ì¸í•˜ì‹­ì‹œì˜¤.")
        
        with st.container(border=True):
            st.text(model_answer['legal_guide'])
    
    else:
        # GENERATE USING AI (without RAG)
        profile_desc = f"\"{p['A1']}, {p['A2']}"
        if p['A2'] == "ì—¬ì„±" and p['A2_2'] != "í•´ë‹¹ ì—†ìŒ":
            profile_desc += f"({p['A2_2']})"
        profile_desc += f", {p['A3']}, {p['A4']}, {p['A5']}\""
        
        st.write(f"í˜„ì¬ ì…ë ¥ëœ ê³„ì•½ì„œì—ì„œ ì´ìš©ìëŠ” **{profile_desc}** ìœ¼ë¡œ í™•ì¸ë©ë‹ˆë‹¤.")
        st.divider()
        
        # AI GENERATED BODY (Summary + Details) - NO RAG
        try:
            ai_body = run_ai_analysis_body(
                p, st.session_state.contract_text, manual_text, model_name, api_key
            )
            st.markdown(ai_body)
        except Exception as e:
            st.error(f"ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {e}")
            if st.button("ğŸ”„ ë‹¤ì‹œ ì‹œë„"):
                st.rerun()
        
        st.divider()
        
        # 5. FIXED ADVICE (Auto-generated based on Profile)
        st.markdown("### ë²•ë ¹ ì°¸ì¡° ì•ˆë‚´")
        st.write("í˜„ì¬ ì…ë ¥ëœ ê³„ì•½ì„œì— ë”°ë¼ ë‹¤ìŒ í•­ëª©ì´ ìë™ìœ¼ë¡œ ì œì•ˆë©ë‹ˆë‹¤. ê·€í•˜ì˜ ê³„ì•½ ìƒí™©ì— ì§ì ‘ì ìœ¼ë¡œ ê´€ë ¨ëœ ë²•ë ¹ ì¡°í•­ì´ë¯€ë¡œ ë°˜ë“œì‹œ í™•ì¸í•˜ì‹­ì‹œì˜¤.")
        
        advice_content = get_fixed_advice_text(p)
        with st.container(border=True):
            st.text(advice_content)
    
    st.divider()
    
    # 6. FIXED FOOTER
    st.markdown("### ë²•ì  ê³ ì§€")
    st.warning("""
ë³¸ ë¶„ì„ì€ ã€Œë³€í˜¸ì‚¬ë²•ã€ ì œ34ì¡° ì œ5í•­ ë° ì œ109ì¡°ì— ë”°ë¼ ë²•ë¥ ì‚¬ë¬´ ë˜ëŠ” ìë¬¸í–‰ìœ„ì— í•´ë‹¹í•˜ì§€ ì•Šìœ¼ë©°,
ë²•ë ¹ìƒ ê¸°ì¤€ì— ë”°ë¥¸ ê³„ì•½ì„œ ë¦¬ìŠ¤í¬ ì§„ë‹¨ ë° ì •ë³´ ì œê³µì˜ ëª©ì ë§Œì„ ê°€ì§‘ë‹ˆë‹¤.

ë²•ì  ë¶„ìŸ, í–‰ì • ì‹ ê³ , ë¶„ìŸ ëŒ€ì‘ ë“±ì˜ ìƒí™©ì—ì„œëŠ” ë°˜ë“œì‹œ ë³€í˜¸ì‚¬ ë˜ëŠ” ê³ ìš©ë…¸ë™ë¶€ì˜ ê³µì‹ ìë¬¸ì„ ë°›ìœ¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
""")
    
    if st.button("ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°"):
        st.session_state.step = "A"
        st.session_state.selected_example = None
        st.rerun()
